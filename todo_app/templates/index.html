{% extends 'layout.html' %}
{% block title %}To-Do App{% endblock %}

{% block content %}
  <div class='jumbotron'>
    <h1 class='display-4'>To-Do App</h1>
    <p class='lead'>Not just any other to-do app.</p>
  </div>

  <div class='row'>
    <div class='col-md-12'>
      <h2>Tasks</h2>
      <table>
        <tr>
          <th>Task</th>
          <th>Status</th>
          <th>Update Status</th>
        </tr>
        {% for list in lists %}
        {% for card in list.cards %}
        <form action='/update' method='post'>
          <tr>
          <td>{{card.name}}</td>
          <td>{{list.name}}</td>
          <td>
            <input type='hidden' name='card-id' value={{card.id}}>
            <input type='hidden' name='card-status' value={{card.idList}}>
            <button type='submit' value='Submit'>Update Status</button>
          </td>
        </tr>  
        </form>
        {% endfor %}
        {% endfor %}
      </table>
    </div>
  </div>

  <br/>
  <div class='row'>
    <div class='col-md-12'>
      <h2>Add New Task</h2>
      <form action='/create' method='post'>
        <label for='card'>Card title:</label>
        <input type='text' name='card-title' id='card-title' required>
        <input type='submit' value='Submit'>
      </form>
    </div>
  </div>
{% endblock %}